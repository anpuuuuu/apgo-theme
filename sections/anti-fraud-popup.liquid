{% comment %}
  åè©é¨™å½ˆçª— Section - æ–°ç‰ˆæœ¬
  ç”¨æ–¼åœ¨ç‰¹å®šé é¢é¡¯ç¤ºåè©é¨™è­¦å‘Šå½ˆçª—
{% endcomment %}

{%- liquid
    assign current_page_type = request.page_type
    assign should_show = false
    
    if section.settings.anti_fraud_enable and section.settings.anti_fraud_pages == 'all' or section.settings.anti_fraud_pages == current_page_type
      assign should_show = true
    endif
  -%}
  
  {%- if should_show -%}
  
  <style>
    /* åè©é¨™å½ˆçª—æ¨£å¼ */
    .anti-fraud-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.92);
      backdrop-filter: blur(20px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 99999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s ease;
    }
  
    .anti-fraud-popup.show {
      opacity: 1;
      visibility: visible;
    }
  
    /* å½ˆçª—å…§å®¹ */
    .anti-fraud-content {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
      border-radius: 20px;
      padding: 0;
      max-width: 480px;
      width: 85%;
      max-height: 85vh;
      border: 2px solid rgba(240, 132, 24, 0.3);
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.7),
        0 0 100px rgba(240, 132, 24, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      transform: scale(0.9);
      overflow: hidden;
      transition: all 0.4s ease;
    }
  
    .anti-fraud-popup.show .anti-fraud-content {
      transform: scale(1);
    }
  
    /* æ¨™é¡Œå€ */
    .anti-fraud-header {
      background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
      padding: 25px 20px;
      text-align: center;
      position: relative;
      border-bottom: 1px solid rgba(240, 132, 24, 0.2);
    }
  
    .anti-fraud-icon {
      font-size: 2rem;
      margin-bottom: 12px;
      display: inline-block;
      animation: anti-fraud-glow 2s ease-in-out infinite;
    }
  
         @keyframes anti-fraud-glow {
       0%, 100% { 
         filter: drop-shadow(0 0 20px rgba(240, 132, 24, 0.5));
       }
       50% { 
         filter: drop-shadow(0 0 30px rgba(240, 132, 24, 0.8));
       }
     }
     
     /* æ¸¸æ¨™é–ƒçˆå‹•ç•« */
     @keyframes blink {
       0%, 50% { opacity: 1; }
       51%, 100% { opacity: 0; }
     }
  
    .anti-fraud-title {
      font-size: 1.4rem;
      font-weight: 600;
      color: #fff;
      margin-bottom: 6px;
    }
  
    .anti-fraud-subtitle {
      color: #999;
      font-size: 0.9rem;
    }
  
    /* å…§å®¹å€ */
    .anti-fraud-body {
      padding: 30px 25px;
    }
  
    .anti-fraud-warning {
      margin-bottom: 30px;
    }
  
    .anti-fraud-warning-title {
      color: #f08418;
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 12px;
    }
  
    .anti-fraud-warning-text {
      color: #ddd;
      line-height: 1.6;
      font-size: 0.95rem;
    }
  
    /* å®˜æ–¹ç¶²å€å€ */
    .anti-fraud-urls-section {
      margin-bottom: 30px;
      text-align: center;
    }
  
    .anti-fraud-url-label {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      color: #4CAF50;
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 16px;
    }
  
    .anti-fraud-check-icon {
      font-size: 1.2rem;
    }
  
    .anti-fraud-urls {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }
  
    .anti-fraud-url-item {
      background: linear-gradient(135deg, #4CAF50, #45a049);
      color: white;
      padding: 12px 24px;
      border-radius: 30px;
      font-weight: 600;
      font-size: 1.1rem;
      box-shadow: 
        0 10px 30px rgba(76, 175, 80, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
      white-space: nowrap;
    }
  
    .anti-fraud-url-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }
  
    .anti-fraud-url-item:hover::before {
      left: 100%;
    }
  
    /* æé†’æ–‡å­— */
    .anti-fraud-reminder {
      text-align: center;
      color: #fff;
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 30px;
    }
  
    /* æŒ‰éˆ•å€ */
    .anti-fraud-actions {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }
  
    .anti-fraud-primary-btn {
      background: linear-gradient(135deg, #f08418, #e67e22);
      color: white;
      border: none;
      padding: 14px 24px;
      border-radius: 25px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 0;
      flex: 1;
      min-width: 160px;
      white-space: nowrap;
      box-shadow: 
        0 8px 25px rgba(240, 132, 24, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }
  
    .anti-fraud-primary-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }
  
    .anti-fraud-primary-btn:hover {
      transform: translateY(-2px);
      box-shadow: 
        0 15px 40px rgba(240, 132, 24, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }
  
    .anti-fraud-primary-btn:hover::before {
      left: 100%;
    }
  
    .anti-fraud-secondary-btn {
      background: transparent;
      color: #f08418;
      border: 2px solid #f08418;
      padding: 12px 20px;
      border-radius: 25px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 0;
      flex: 1;
      min-width: 140px;
      white-space: nowrap;
    }
  
    .anti-fraud-secondary-btn:hover {
      background: #f08418;
      color: white;
      transform: translateY(-2px);
    }
  
    /* é—œé–‰æŒ‰éˆ• */
    .anti-fraud-close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: transparent;
      border: 2px solid rgba(255, 255, 255, 0.2);
      color: #999;
      font-size: 1.1rem;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  
    .anti-fraud-close-btn:hover {
      border-color: #f08418;
      color: #f08418;
      transform: rotate(90deg);
    }
  
    /* ä¸å†é¡¯ç¤ºé¸é … */
    .anti-fraud-dont-show {
      text-align: center;
      margin-top: 25px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
  
    .anti-fraud-dont-show label {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      color: #999;
      font-size: 0.85rem;
    }
  
    .anti-fraud-dont-show input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
      accent-color: #f08418;
    }
  
    /* ç¶²å€æ•™å­¸é é¢ */
    .anti-fraud-guide {
      display: none;
      position: absolute;
      left: 100%;
      top: 50%;
      transform: translateY(-50%);
    }
  
    .anti-fraud-guide.show {
      display: block;
    }
  
    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 768px) {
      .anti-fraud-content {
        width: 92%;
        max-width: 400px;
        max-height: 80vh;
        overflow-y: auto;
      }
      
      .anti-fraud-header {
        padding: 20px 16px;
      }
      
      .anti-fraud-icon {
        font-size: 1.8rem;
        margin-bottom: 8px;
      }
      
      .anti-fraud-title {
        font-size: 1.2rem;
      }
      
      .anti-fraud-subtitle {
        font-size: 0.85rem;
      }
      
      .anti-fraud-body {
        padding: 25px 20px;
      }
      
      .anti-fraud-warning {
        margin-bottom: 25px;
      }
      
      .anti-fraud-warning-title {
        font-size: 0.95rem;
      }
      
      .anti-fraud-warning-text {
        font-size: 0.85rem;
      }
      
             /* ç¬¬ä¸€é ç€è¦½å™¨æ¨¡æ“¬éŸ¿æ‡‰å¼ */
       #antiFraudMain .anti-fraud-body > div[style*="margin-bottom: 30px"] {
         margin-bottom: 25px !important;
       }
       
       #antiFraudMain .anti-fraud-body > div[style*="margin-bottom: 30px"] > div[style*="text-align: center"] {
         margin-bottom: 16px !important;
       }
       
       #antiFraudMain .anti-fraud-body > div[style*="margin-bottom: 30px"] > div[style*="text-align: center"] span:last-child {
         font-size: 1rem !important;
       }
       
       #antiFraudMain .anti-fraud-body > div[style*="margin-bottom: 30px"] > div[style*="background: #000"] {
         max-width: 350px !important;
       }
      
      .anti-fraud-reminder {
        font-size: 0.9rem;
        margin-bottom: 25px;
      }
      
      .anti-fraud-actions {
        flex-direction: column;
        gap: 10px;
      }
      
      .anti-fraud-actions button {
        width: 100%;
        min-width: unset;
        padding: 12px 20px;
        font-size: 0.9rem;
      }
      
      .anti-fraud-primary-btn {
        padding: 12px 20px;
        font-size: 0.9rem;
      }
      
      .anti-fraud-secondary-btn {
        padding: 10px 16px;
        font-size: 0.85rem;
      }
      
      .anti-fraud-dont-show {
        margin-top: 20px;
        padding-top: 16px;
      }
      
      .anti-fraud-dont-show label {
        font-size: 0.8rem;
      }
      
      .anti-fraud-dont-show input[type="checkbox"] {
        width: 14px;
        height: 14px;
      }
      
      .anti-fraud-close-btn {
        top: 16px;
        right: 16px;
        width: 28px;
        height: 28px;
        font-size: 1rem;
      }
    }
  
    @media (max-width: 480px) {
      .anti-fraud-content {
        width: 95%;
        max-width: 350px;
        max-height: 85vh;
      }
      
      .anti-fraud-header {
        padding: 16px 12px;
      }
      
      .anti-fraud-icon {
        font-size: 1.6rem;
        margin-bottom: 6px;
      }
      
      .anti-fraud-title {
        font-size: 1.1rem;
      }
      
      .anti-fraud-subtitle {
        font-size: 0.8rem;
      }
      
      .anti-fraud-body {
        padding: 20px 16px;
      }
      
      .anti-fraud-warning {
        margin-bottom: 20px;
      }
      
      .anti-fraud-warning-title {
        font-size: 0.9rem;
      }
      
      .anti-fraud-warning-text {
        font-size: 0.8rem;
      }
      
             /* ç¬¬ä¸€é ç€è¦½å™¨æ¨¡æ“¬éŸ¿æ‡‰å¼ */
       #antiFraudMain .anti-fraud-body > div[style*="margin-bottom: 30px"] {
         margin-bottom: 20px !important;
       }
       
       #antiFraudMain .anti-fraud-body > div[style*="margin-bottom: 30px"] > div[style*="text-align: center"] {
         margin-bottom: 12px !important;
       }
       
       #antiFraudMain .anti-fraud-body > div[style*="margin-bottom: 30px"] > div[style*="text-align: center"] span:last-child {
         font-size: 0.95rem !important;
       }
       
       #antiFraudMain .anti-fraud-body > div[style*="margin-bottom: 30px"] > div[style*="background: #000"] {
         max-width: 300px !important;
       }
      
      .anti-fraud-reminder {
        font-size: 0.85rem;
        margin-bottom: 20px;
      }
      
      .anti-fraud-actions button {
        padding: 10px 16px;
        font-size: 0.85rem;
      }
      
      .anti-fraud-primary-btn {
        padding: 10px 16px;
        font-size: 0.85rem;
      }
      
      .anti-fraud-secondary-btn {
        padding: 8px 12px;
        font-size: 0.8rem;
      }
      
      .anti-fraud-dont-show {
        margin-top: 16px;
        padding-top: 12px;
      }
      
      .anti-fraud-dont-show label {
        font-size: 0.75rem;
      }
      
      .anti-fraud-dont-show input[type="checkbox"] {
        width: 12px;
        height: 12px;
      }
      
      .anti-fraud-close-btn {
        top: 12px;
        right: 12px;
        width: 24px;
        height: 24px;
        font-size: 0.9rem;
      }
      
      /* æ•™å­¸é é¢éŸ¿æ‡‰å¼èª¿æ•´ */
      #antiFraudGuide .anti-fraud-body {
        padding: 16px 12px !important;
      }
      
      #antiFraudGuide .anti-fraud-actions {
        margin-top: 16px !important;
      }
      
      #antiFraudGuide .anti-fraud-primary-btn {
        font-size: 0.85rem !important;
        padding: 10px 20px !important;
      }
    }
  </style>
  
  <!-- åè©é¨™è­¦å‘Šå½ˆçª— -->
  <div class="anti-fraud-popup" id="antiFraudPopup">
    <div class="anti-fraud-content" id="antiFraudMain">
      <!-- æ¨™é¡Œå€ -->
      <div class="anti-fraud-header">
        <button class="anti-fraud-close-btn" onclick="closeAntiFraudPopup()">Ã—</button>
        <div class="anti-fraud-icon">âš ï¸</div>
        <h2 class="anti-fraud-title">{{ section.settings.anti_fraud_title | default: 'åè©é¨™å®£å°' }}</h2>
        <p class="anti-fraud-subtitle">{{ section.settings.anti_fraud_subtitle | default: 'è¿‘æœŸç™¼ç¾è©é¨™é›†åœ˜ç›œç”¨æˆ‘å€‘çš„å½±ç‰‡' }}</p>
      </div>
  
      <!-- å…§å®¹å€ -->
      <div class="anti-fraud-body">
        <!-- è©é¨™è­¦å‘Šèªªæ˜ -->
        <div class="anti-fraud-warning">
          <p class="anti-fraud-warning-title">{{ section.settings.anti_fraud_warning_title | default: 'è©é¨™æ‰‹æ³•èªªæ˜' }}</p>
          <p class="anti-fraud-warning-text">{{ section.settings.anti_fraud_warning_text | default: 'è¿‘æœŸæœ‰è©é¨™é›†åœ˜ç›œç”¨ APGO çŸ­å½±éŸ³å¹³å°çš„å½±ç‰‡ï¼Œåœ¨ç¤¾ç¾¤åª’é«”æŠ•æ”¾è©é¨™å»£å‘Šï¼Œå¼•å°æ¶ˆè²»è€…è‡³å‡å†’ç¶²ç«™é€²è¡Œè³¼ç‰©è©é¨™ã€‚è«‹å‹™å¿…èªæ˜ä»¥ä¸‹å®˜æ–¹ç¶²å€ï¼š' }}</p>
        </div>
  
                 <!-- å®˜æ–¹ç¶²å€å±•ç¤º -->
         <div style="margin-bottom: 30px;">
           <div style="text-align: center; margin-bottom: 20px;">
             <span style="color: #4CAF50; font-size: 1.2rem; margin-right: 8px;">âœ“</span>
             <span style="color: #4CAF50; font-weight: 600; font-size: 1.1rem;">{{ section.settings.anti_fraud_url_label | default: 'å”¯ä¸€å®˜æ–¹ç¶²å€' }}</span>
           </div>
           
           <!-- ç€è¦½å™¨æ¨¡æ“¬ -->
           <div style="background: #000; border-radius: 12px; overflow: hidden; margin: 0 auto; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
             <!-- ç€è¦½å™¨é ‚éƒ¨ -->
             <div style="background: #2a2a2a; padding: 8px; display: flex; align-items: center; gap: 10px;">
               <div style="display: flex; gap: 6px;">
                 <div style="width: 10px; height: 10px; border-radius: 50%; background: #ff5f57;"></div>
                 <div style="width: 10px; height: 10px; border-radius: 50%; background: #ffbd2e;"></div>
                 <div style="width: 10px; height: 10px; border-radius: 50%; background: #28ca42;"></div>
               </div>
             </div>
             
             <!-- æ­£ç¢ºç¶²å€ç¤ºç¯„ -->
             <div style="background: #1a1a1a; padding: 15px;">
               <p style="color: #4CAF50; font-weight: 600; margin-bottom: 8px; font-size: 0.9rem;">âœ“ æ­£ç¢ºç¶²å€</p>
               <div style="background: #2d2d2d; border-radius: 6px; padding: 10px; display: flex; align-items: center; gap: 8px;">
                 <span style="color: #4CAF50; font-size: 0.9rem;">ğŸ”’</span>
                 <span style="font-family: monospace; color: #999; font-size: 0.85rem;">https://</span>
                 <span id="typing-animation" style="font-family: monospace; color: #f08418; font-weight: 600; font-size: 0.9rem;"></span>
                 <span id="typing-cursor" style="font-family: monospace; color: #f08418; font-weight: 600; font-size: 0.9rem; animation: blink 1s infinite;">|</span>
               </div>
             </div>
           </div>
         </div>
  
        <!-- æé†’æ–‡å­— -->
        <p class="anti-fraud-reminder">
          {{ section.settings.anti_fraud_reminder | default: 'çœ‹åˆ°ä»»ä½•å„ªæƒ å»£å‘Šï¼Œè«‹ç›´æ¥è¼¸å…¥ apgo.tw é€²å…¥å®˜ç¶²ç¢ºèª' }}<br>
          <span style="color: #999; font-size: 0.9rem;">{{ section.settings.anti_fraud_reminder_sub | default: 'åˆ‡å‹¿é»æ“Šä¾†è·¯ä¸æ˜çš„å»£å‘Šé€£çµ' }}</span>
        </p>
  
        <!-- ç¢ºèªæŒ‰éˆ• -->
        <div class="anti-fraud-actions">
          <button class="anti-fraud-primary-btn" onclick="closeAntiFraudPopup()">
            {{ section.settings.anti_fraud_primary_btn | default: 'æˆ‘å·²äº†è§£ï¼Œé€²å…¥å®˜ç¶²' }}
          </button>
          {%- if section.settings.anti_fraud_show_guide -%}
            <button class="anti-fraud-secondary-btn" onclick="showAntiFraudGuide()">
              {{ section.settings.anti_fraud_secondary_btn | default: 'å¦‚ä½•åˆ†è¾¨ç¶²å€ â†’' }}
            </button>
          {%- endif -%}
        </div>
        
        <!-- ä¸å†é¡¯ç¤ºé¸é … -->
        {%- if section.settings.anti_fraud_show_dont_show -%}
          <div class="anti-fraud-dont-show">
            <label>
              <input type="checkbox" id="antiFraudDontShow">
              <span>{{ section.settings.anti_fraud_dont_show_text | default: 'ä¸å†é¡¯ç¤ºæ­¤è¨Šæ¯' }}</span>
            </label>
          </div>
        {%- endif -%}
      </div>
    </div>
    
    <!-- ç¶²å€æ•™å­¸é é¢ -->
    {%- if section.settings.anti_fraud_show_guide -%}
      <div class="anti-fraud-content anti-fraud-guide" id="antiFraudGuide">
        <div class="anti-fraud-header">
          <button class="anti-fraud-close-btn" onclick="backToAntiFraudMain()" style="left: 25px; right: auto;">â†</button>
          <div class="anti-fraud-icon">ğŸ”</div>
          <h2 class="anti-fraud-title">{{ section.settings.anti_fraud_guide_title | default: 'å¦‚ä½•åˆ†è¾¨æ­£ç¢ºç¶²å€' }}</h2>
          <p class="anti-fraud-subtitle">{{ section.settings.anti_fraud_guide_subtitle | default: 'å­¸æœƒçœ‹æ‡‚ç€è¦½å™¨ç¶²å€åˆ—' }}</p>
        </div>
        
        <div class="anti-fraud-body" style="padding: 20px 16px;">
          <!-- ç€è¦½å™¨æ¨¡æ“¬ -->
          <div style="background: #000; border-radius: 12px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
            <!-- ç€è¦½å™¨é ‚éƒ¨ -->
            <div style="background: #2a2a2a; padding: 8px; display: flex; align-items: center; gap: 10px;">
              <div style="display: flex; gap: 6px;">
                <div style="width: 10px; height: 10px; border-radius: 50%; background: #ff5f57;"></div>
                <div style="width: 10px; height: 10px; border-radius: 50%; background: #ffbd2e;"></div>
                <div style="width: 10px; height: 10px; border-radius: 50%; background: #28ca42;"></div>
              </div>
            </div>
            
            <!-- æ­£ç¢ºç¶²å€ç¤ºç¯„ -->
            <div style="background: #1a1a1a; padding: 15px;">
              <p style="color: #4CAF50; font-weight: 600; margin-bottom: 8px; font-size: 0.9rem;">âœ“ æ­£ç¢ºç¶²å€</p>
              <div style="background: #2d2d2d; border-radius: 6px; padding: 10px; display: flex; align-items: center; gap: 8px; margin-bottom: 15px;">
                <span style="color: #4CAF50; font-size: 0.9rem;">ğŸ”’</span>
                <span style="font-family: monospace; color: #999; font-size: 0.85rem;">https://</span>
                <span style="font-family: monospace; color: #f08418; font-weight: 600; font-size: 0.9rem;">apgo.tw</span>
              </div>
              
              <p style="color: #ff6666; font-weight: 600; margin-bottom: 8px; font-size: 0.9rem;">âœ— è©é¨™ç¶²å€ç¯„ä¾‹</p>
              <div style="background: #2d2d2d; border-radius: 6px; padding: 10px; display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                <span style="color: #999; font-size: 0.9rem;">âš ï¸</span>
                <span style="font-family: monospace; color: #999; font-size: 0.85rem;">https://</span>
                <span style="font-family: monospace; color: #ff6666; font-weight: 600; font-size: 0.9rem;">apgo-tw.com</span>
                <span style="font-family: monospace; color: #666; font-size: 0.85rem;">/shop</span>
              </div>
              <div style="background: #2d2d2d; border-radius: 6px; padding: 10px; display: flex; align-items: center; gap: 8px;">
                <span style="color: #999; font-size: 0.9rem;">âš ï¸</span>
                <span style="font-family: monospace; color: #999; font-size: 0.85rem;">https://</span>
                <span style="font-family: monospace; color: #ff6666; font-weight: 600; font-size: 0.9rem;">apg0.tw</span>
                <span style="font-family: monospace; color: #666; font-size: 0.85rem;">/sale</span>
              </div>
            </div>
          </div>
          
          <!-- é‡é»æé†’ -->
          <div style="background: rgba(240, 132, 24, 0.05); border: 2px solid rgba(240, 132, 24, 0.2); border-radius: 12px; padding: 15px;">
            <h3 style="color: #f08418; font-size: 1.1rem; margin-bottom: 12px;">æª¢æŸ¥é‡é»</h3>
            <ul style="list-style: none; padding: 0; margin: 0;">
              <li style="margin-bottom: 10px; display: flex; align-items: flex-start; gap: 8px;">
                <span style="color: #f08418; font-size: 0.9rem;">â–¶</span>
                <span style="line-height: 1.4; font-size: 0.9rem;">ç¶²åŸŸåç¨±å¿…é ˆæ˜¯ <strong style="color: #f08418;">apgo.tw</strong>ï¼Œæ²’æœ‰å…¶ä»–è®ŠåŒ–</span>
              </li>
              <li style="margin-bottom: 10px; display: flex; align-items: flex-start; gap: 8px;">
                <span style="color: #f08418; font-size: 0.9rem;">â–¶</span>
                <span style="line-height: 1.4; font-size: 0.9rem;">æ³¨æ„æ˜¯å¦æœ‰å¤šé¤˜çš„æ©«ç·šã€æ•¸å­—æˆ–å…¶ä»–å­—å…ƒ</span>
              </li>
              <li style="display: flex; align-items: flex-start; gap: 8px;">
                <span style="color: #f08418; font-size: 0.9rem;">â–¶</span>
                <span style="line-height: 1.4; font-size: 0.9rem;">æ–œç·šï¼ˆ/ï¼‰å¾Œé¢çš„å…§å®¹æ˜¯ç¶²é è·¯å¾‘ï¼Œä¸å½±éŸ¿ç¶²ç«™çœŸå¯¦æ€§</span>
              </li>
            </ul>
          </div>
          
          <!-- ç¢ºèªæŒ‰éˆ• -->
          <div class="anti-fraud-actions" style="margin-top: 20px;">
            <button class="anti-fraud-primary-btn" onclick="backToAntiFraudMain()" style="font-size: 0.9rem; padding: 12px 24px;">
              {{ section.settings.anti_fraud_guide_btn | default: 'æˆ‘å·²äº†è§£ï¼Œé€²å…¥å®˜ç¶²' }}
            </button>
          </div>
          
          <!-- ä¸å†é¡¯ç¤ºé¸é … -->
          {%- if section.settings.anti_fraud_show_dont_show -%}
            <div class="anti-fraud-dont-show">
              <label>
                <input type="checkbox" id="antiFraudDontShow2">
                <span>{{ section.settings.anti_fraud_dont_show_text | default: 'ä¸å†é¡¯ç¤ºæ­¤è¨Šæ¯' }}</span>
              </label>
            </div>
          {%- endif -%}
        </div>
      </div>
    {%- endif -%}
  </div>
  
  <script>
    // æª¢æŸ¥æ˜¯å¦å·²ç¶“è¨­å®šä¸å†é¡¯ç¤º
    function shouldShowAntiFraudPopup() {
      if (localStorage.getItem('antiFraudDontShow') === 'true') {
        return false;
      }
      return true;
    }
  
    // é¡¯ç¤ºå½ˆçª—
    function showAntiFraudPopup() {
      if (shouldShowAntiFraudPopup()) {
        const popup = document.getElementById('antiFraudPopup');
        popup.classList.add('show');
        document.body.style.overflow = 'hidden';
      }
    }
  
    // é—œé–‰å½ˆçª—
    function closeAntiFraudPopup() {
      const popup = document.getElementById('antiFraudPopup');
      const dontShowCheckbox = document.getElementById('antiFraudDontShow');
      const dontShowCheckbox2 = document.getElementById('antiFraudDontShow2');
      
      // æª¢æŸ¥æ˜¯å¦å‹¾é¸ä¸å†é¡¯ç¤º
      if ((dontShowCheckbox && dontShowCheckbox.checked) || 
          (dontShowCheckbox2 && dontShowCheckbox2.checked)) {
        localStorage.setItem('antiFraudDontShow', 'true');
      }
      
      popup.classList.remove('show');
      document.body.style.overflow = '';
    }
  
    // é¡¯ç¤ºç¶²å€æ•™å­¸
    function showAntiFraudGuide() {
      var main = document.getElementById('antiFraudMain');
      var guide = document.getElementById('antiFraudGuide');
      
      if (guide) {
        guide.classList.add('show');
        
        setTimeout(function() {
          main.style.transform = 'translateX(-100%)';
          guide.style.left = '50%';
          guide.style.transform = 'translate(-50%, -50%)';
        }, 10);
      }
    }
  
    // è¿”å›ä¸»é é¢
    function backToAntiFraudMain() {
      var main = document.getElementById('antiFraudMain');
      var guide = document.getElementById('antiFraudGuide');
      
      if (guide) {
        main.style.transform = 'translateX(0)';
        guide.style.left = '100%';
        guide.style.transform = 'translateY(-50%)';
        
        setTimeout(function() {
          guide.classList.remove('show');
        }, 400);
      }
    }
  
         // æ‰“å­—å‹•ç•«æ•ˆæœ
     function typeWriter(element, text, speed = 150) {
       let i = 0;
       element.innerHTML = '';
       
       function type() {
         if (i < text.length) {
           element.innerHTML += text.charAt(i);
           i++;
           setTimeout(type, speed);
         }
       }
       
       type();
     }
     
     // é é¢è¼‰å…¥å¾Œé¡¯ç¤ºå½ˆçª—
     document.addEventListener('DOMContentLoaded', function() {
       // å»¶é²é¡¯ç¤ºï¼Œç¢ºä¿é é¢å®Œå…¨è¼‰å…¥
       setTimeout(showAntiFraudPopup, {{ section.settings.anti_fraud_delay | default: 1 }} * 1000);
       
       // ç•¶å½ˆçª—é¡¯ç¤ºå¾Œï¼Œé–‹å§‹æ‰“å­—å‹•ç•«
       setTimeout(function() {
         const typingElement = document.getElementById('typing-animation');
         if (typingElement) {
           typeWriter(typingElement, 'apgo.tw', 200);
         }
       }, ({{ section.settings.anti_fraud_delay | default: 1 }} + 0.5) * 1000);
     });
  
    // é»æ“ŠèƒŒæ™¯é—œé–‰å½ˆçª—
    document.addEventListener('click', function(e) {
      const popup = document.getElementById('antiFraudPopup');
      if (e.target === popup) {
        closeAntiFraudPopup();
      }
    });
  
    // ESC éµé—œé–‰å½ˆçª—
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeAntiFraudPopup();
      }
    });
  </script>
  
  {%- endif -%}
  
  {% schema %}
  {
    "name": "åè©é¨™å½ˆçª— - æ–°ç‰ˆæœ¬",
    "settings": [
      {
        "type": "header",
        "content": "åŸºæœ¬è¨­å®š"
      },
      {
        "type": "checkbox",
        "id": "anti_fraud_enable",
        "label": "å•Ÿç”¨åè©é¨™å½ˆçª—",
        "default": true
      },
      {
        "type": "range",
        "id": "anti_fraud_delay",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "ç§’",
        "label": "å»¶é²é¡¯ç¤ºæ™‚é–“",
        "default": 1
      },
      {
        "type": "select",
        "id": "anti_fraud_pages",
        "label": "é¡¯ç¤ºé é¢",
        "options": [
          {
            "value": "all",
            "label": "æ‰€æœ‰é é¢"
          },
          {
            "value": "index",
            "label": "é¦–é "
          },
          {
            "value": "product",
            "label": "å•†å“é é¢"
          },
          {
            "value": "collection",
            "label": "å•†å“ç³»åˆ—é é¢"
          },
          {
            "value": "cart",
            "label": "è³¼ç‰©è»Šé é¢"
          },
          {
            "value": "page",
            "label": "ä¸€èˆ¬é é¢"
          }
        ],
        "default": "all"
      },
      {
        "type": "header",
        "content": "å…§å®¹è¨­å®š"
      },
      {
        "type": "text",
        "id": "anti_fraud_title",
        "label": "æ¨™é¡Œ",
        "default": "åè©é¨™å®£å°"
      },
      {
        "type": "text",
        "id": "anti_fraud_subtitle",
        "label": "å‰¯æ¨™é¡Œ",
        "default": "è¿‘æœŸç™¼ç¾è©é¨™é›†åœ˜ç›œç”¨æˆ‘å€‘çš„å½±ç‰‡"
      },
      {
        "type": "text",
        "id": "anti_fraud_warning_title",
        "label": "è­¦å‘Šæ¨™é¡Œ",
        "default": "è©é¨™æ‰‹æ³•èªªæ˜"
      },
      {
        "type": "textarea",
        "id": "anti_fraud_warning_text",
        "label": "è­¦å‘Šå…§å®¹",
        "default": "è¿‘æœŸæœ‰è©é¨™é›†åœ˜ç›œç”¨ APGO çŸ­å½±éŸ³å¹³å°çš„å½±ç‰‡ï¼Œåœ¨ç¤¾ç¾¤åª’é«”æŠ•æ”¾è©é¨™å»£å‘Šï¼Œå¼•å°æ¶ˆè²»è€…è‡³å‡å†’ç¶²ç«™é€²è¡Œè³¼ç‰©è©é¨™ã€‚è«‹å‹™å¿…èªæ˜ä»¥ä¸‹å®˜æ–¹ç¶²å€ï¼š"
      },
      {
        "type": "text",
        "id": "anti_fraud_url_label",
        "label": "ç¶²å€æ¨™ç±¤",
        "default": "å”¯ä¸€å®˜æ–¹ç¶²å€"
      },
      {
        "type": "textarea",
        "id": "anti_fraud_urls",
        "label": "å®˜æ–¹ç¶²å€",
        "default": "apgo.tw",
        "info": "æ¯è¡Œä¸€å€‹ç¶²å€ï¼Œç”¨æ›è¡Œåˆ†éš”"
      },
      {
        "type": "text",
        "id": "anti_fraud_reminder",
        "label": "æé†’æ–‡å­—",
        "default": "çœ‹åˆ°ä»»ä½•å„ªæƒ å»£å‘Šï¼Œè«‹ç›´æ¥è¼¸å…¥ apgo.tw é€²å…¥å®˜ç¶²ç¢ºèª"
      },
      {
        "type": "text",
        "id": "anti_fraud_reminder_sub",
        "label": "æé†’å‰¯æ–‡å­—",
        "default": "åˆ‡å‹¿é»æ“Šä¾†è·¯ä¸æ˜çš„å»£å‘Šé€£çµ"
      },
      {
        "type": "header",
        "content": "æŒ‰éˆ•è¨­å®š"
      },
      {
        "type": "text",
        "id": "anti_fraud_primary_btn",
        "label": "ä¸»è¦æŒ‰éˆ•æ–‡å­—",
        "default": "æˆ‘å·²äº†è§£ï¼Œé€²å…¥å®˜ç¶²"
      },
      {
        "type": "checkbox",
        "id": "anti_fraud_show_guide",
        "label": "é¡¯ç¤ºã€Œå¦‚ä½•åˆ†è¾¨ç¶²å€ã€æŒ‰éˆ•",
        "default": true
      },
      {
        "type": "text",
        "id": "anti_fraud_secondary_btn",
        "label": "å­¸ç¿’æ›´å¤šæŒ‰éˆ•æ–‡å­—",
        "default": "å¦‚ä½•åˆ†è¾¨ç¶²å€ â†’"
      },
      {
        "type": "text",
        "id": "anti_fraud_guide_title",
        "label": "æ•™å­¸é é¢æ¨™é¡Œ",
        "default": "å¦‚ä½•åˆ†è¾¨æ­£ç¢ºç¶²å€"
      },
      {
        "type": "text",
        "id": "anti_fraud_guide_subtitle",
        "label": "æ•™å­¸é é¢å‰¯æ¨™é¡Œ",
        "default": "å­¸æœƒçœ‹æ‡‚ç€è¦½å™¨ç¶²å€åˆ—"
      },
      {
        "type": "text",
        "id": "anti_fraud_guide_btn",
        "label": "æ•™å­¸é é¢æŒ‰éˆ•æ–‡å­—",
        "default": "æˆ‘å·²äº†è§£ï¼Œé€²å…¥å®˜ç¶²"
      },
      {
        "type": "header",
        "content": "å…¶ä»–è¨­å®š"
      },
      {
        "type": "checkbox",
        "id": "anti_fraud_show_dont_show",
        "label": "é¡¯ç¤ºã€Œä¸å†é¡¯ç¤ºã€é¸é …",
        "default": true
      },
      {
        "type": "text",
        "id": "anti_fraud_dont_show_text",
        "label": "ä¸å†é¡¯ç¤ºæ–‡å­—",
        "default": "ä¸å†é¡¯ç¤ºæ­¤è¨Šæ¯"
      }
    ],
    "presets": [
      {
        "name": "åè©é¨™å½ˆçª— - æ–°ç‰ˆæœ¬",
        "category": "å½ˆçª—"
      }
    ]
  }
  {% endschema %}
  